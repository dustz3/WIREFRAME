// Status Card Component
// 貨件狀態卡片組件

.status-card
  width 100%
  max-width 1200px
  background white
  border-radius 16px
  box-shadow 0 5px 10px rgba(12, 48, 88, 0.4)
  padding 40px 48px
  display flex
  flex-direction column
  gap 32px
  position relative
  z-index 2

  .status-title
    font-size 1.4rem
    font-weight 600
    color primary-color
    margin 0

  .timeline-container
    position relative
    padding 20px 0

  .timeline-track
    position absolute
    top 50%
    left 0
    right 0
    height 4px
    background neutral-light
    transform translateY(-50%)
    border-radius 2px

  .timeline-progress
    position absolute
    top 0
    left 0
    height 100%
    background linear-gradient(90deg, primary-color 0%, accent-color 100%)
    border-radius 2px
    transition width 0.6s ease

  .timeline-nodes
    position relative
    display flex
    justify-content space-between
    align-items center
    z-index 1

  .timeline-event
    position absolute
    top -60px
    transform translateX(-50%)
    display flex
    flex-direction column
    align-items center
    gap 8px
    z-index 10

    .event-icon
      font-size 28px 
      animation float 3s ease-in-out infinite

    .event-bubble
      position relative
      background white
      color primary-color
      font-size 0.75rem
      font-weight 600
      padding 8px 14px
      border-radius 8px
      white-space nowrap
      box-shadow 0 4px 12px rgba(0, 0, 0, 0.15)
      border 2px solid accent-color

      &::after
        content ''
        position absolute
        top 100%
        left 50%
        transform translateX(-50%)
        width 0
        height 0
        border-left 8px solid transparent
        border-right 8px solid transparent
        border-top 8px solid accent-color

      &::before
        content ''
        position absolute
        top 100%
        left 50%
        transform translateX(-50%)
        width 0
        height 0
        border-left 6px solid transparent
        border-right 6px solid transparent
        border-top 6px solid white
        z-index 1
        margin-top -2px

  .timeline-event-icon
    position absolute
    top 50%
    transform translate(-50%, -50%)
    z-index 5
    background white
    border-radius 50%
    width 35px
    height 35px
    display flex
    align-items center
    justify-content center
    box-shadow 0 2px 8px rgba(0, 0, 0, 0.15)
    transition all 0.3s ease
    cursor pointer

    &:hover
      background secondary-color
      box-shadow 0 4px 16px rgba(151, 211, 223, 0.4)

    &.scale-up
      transform translate(-50%, -50%) scale(1.3)
      background secondary-color
      box-shadow 0 4px 16px rgba(151, 211, 223, 0.4)

    img
      width 70%
      height auto
      display block
      object-fit contain 

  .timeline-node
    position relative
    display flex
    align-items center
    justify-content center
    width 40px
    height 40px
    z-index 2

    .node-dot
      width 40px
      height 40px
      border-radius 50%
      background neutral-light
      box-shadow 0 2px 8px rgba(0, 0, 0, 0.1)
      transition all 0.3s ease
      position relative
      z-index 2

    &.scale-up .node-dot
      transform scale(1.3)
      box-shadow 0 4px 16px rgba(0, 0, 0, 0.2)

    .node-icon
      position absolute
      font-size 1rem
      font-weight 400
      color base-white
      opacity 1
      padding-top 2px
      transition opacity 0.3s ease
      z-index 3

    .node-pulse
      position absolute
      width 40px
      height 40px
      border-radius 50%
      background rgba(37, 99, 235, 0.3)
      animation pulse 2s infinite

    &.completed
      .node-dot
        background primary-color
        box-shadow 0 2px 12px rgba(20, 52, 99, 0.4)

      .node-icon
        color base-white

    &.active
      .node-dot
        background accent-color
        box-shadow 0 2px 16px rgba(187, 39, 73, 0.6)
        animation glow 1.5s infinite

      .node-icon
        color base-white

    &.pending
      .node-dot
        background neutral-light

      .node-icon
        color base-white

  .timeline-labels
    display flex
    flex-direction column
    gap 16px
    margin-top 32px

  .timeline-row
    display grid
    grid-template-columns repeat(5, 1fr)
    gap 12px

  .timeline-card
    background white
    border-radius 8px
    display flex
    flex-direction column
    padding 16px
    gap 12px
    transition all 0.3s ease
    box-shadow 0 2px 8px rgba(12, 48, 88, 0.4)

    &:hover
      background primary-color
      box-shadow 0 4px 16px rgba(20, 52, 99, 0.4)
      
      .card-number
        color primary-color
        background white
        border-color white
      
      .card-title
        color base-white
      
      .card-time
        color base-white

    &.event:hover
      background secondary-color
      box-shadow 0 4px 16px rgba(151, 211, 223, 0.4)
      
      .card-number
        color secondary-color
        background white
        border-color white
      
      .card-title
        color base-white
      
      .card-time
        color base-white
      
      .card-icon-img
        filter brightness(0) invert(1)

    &.event.highlight
      background secondary-color
      box-shadow 0 4px 16px rgba(151, 211, 223, 0.4)
      
      .card-icon-wrapper
        .card-icon-img
          filter brightness(0) invert(1)
      
      .card-title
        color base-white
      
      .card-time
        color base-white

    &.completed.highlight
      background primary-color
      box-shadow 0 4px 16px rgba(20, 52, 99, 0.4)

      .card-number
        color primary-color
        background white
        border-color white

      .card-title
        color base-white

      .card-time
        color base-white

    .card-number
      width 36px
      height 36px
      border-radius 50%
      border 1px solid neutral-light
      background white
      color accent-color
      font-size 1.2rem
      font-weight 700
      display flex
      align-items center
      justify-content center
      flex-shrink 0
      align-self flex-start

    .card-icon
      width 36px
      height 36px
      font-size 1.8rem
      display flex
      align-items center
      justify-content center
      flex-shrink 0
      align-self flex-start

    .card-icon-wrapper
      display flex
      align-items center
      justify-content flex-start
      padding 0
      flex-shrink 0
      align-self flex-start

    .card-icon-img
      width 35px
      height 35px
      object-fit contain

    .card-content
      display flex
      flex-direction column
      gap 6px

    .card-title
      font-size 0.9rem
      font-weight 600
      color neutral-gray
      line-height 1.3
      text-align left

    .card-time
      font-size 0.8rem
      color neutral-gray
      line-height 1.2
      text-align left

    &.completed
      .card-number
        color primary-color

    &.active
      background accent-color
      box-shadow 0 4px 16px rgba(187, 39, 73, 0.4)

      .card-number
        color accent-color
        background white
        border-color white
        animation pulse-card 2s infinite

      .card-title
        color base-white

      .card-time
        color base-white

    &.pending
      opacity 0.6
      cursor not-allowed
      pointer-events none

      .card-number
        color neutral-light
        border-color neutral-light

      .card-title
        color neutral-light

      .card-time
        color neutral-light

    &.event
      display none
      .card-icon
        color #f59e0b

// Animations
@keyframes pulse
  0%
    transform scale(1)
    opacity 0.6
  50%
    transform scale(1.3)
    opacity 0.3
  100%
    transform scale(1)
    opacity 0.6

@keyframes glow
  0%, 100%
    box-shadow 0 2px 16px rgba(187, 39, 73, 0.6)
  50%
    box-shadow 0 2px 24px rgba(187, 39, 73, 0.9)

@keyframes float
  0%, 100%
    transform translateY(0)
  50%
    transform translateY(-8px)

@keyframes pulse-card
  0%, 100%
    transform scale(1)
  50%
    transform scale(1.05)

// Desktop Specific Styles
@media (min-width: 769px)
  .status-card
    .timeline-track
      top 11%
      transform none

    .timeline-progress
      background linear-gradient(90deg, primary-color 0%, accent-color 100%)

    .timeline-nodes
      flex-direction row
      justify-content space-between

    .timeline-event-icon
      // 固定在步驟 7-8 之間
      left 80%
      top 11%
      transform translate(-50%, -50%)

    .timeline-labels
      flex-direction column
      gap 16px
      margin-top 32px

    .timeline-row
      display grid
      grid-template-columns repeat(5, 1fr)
      gap 12px

    .timeline-card
      padding 16px
      background white
      box-shadow 0 2px 8px rgba(12, 48, 88, 0.4)
      gap 12px

// Mobile Specific Styles
@media (max-width: 768px)
  .status-card
    padding 32px 20px

    .status-title
      font-size 1.2rem
      margin-bottom 8px

    .timeline-container
      display grid
      grid-template-columns 52px 1fr
      gap 16px
      position relative
      padding 0

    .timeline-track
      position absolute
      top 0
      left 20px
      width 4px
      height 100%
      transform none
      background neutral-light

    .timeline-progress
      background linear-gradient(180deg, primary-color 0%, accent-color 100%)

    .timeline-nodes
      flex-direction column
      gap 32px
      align-items flex-start
      grid-column 1
      margin 0
      padding 0

    .timeline-node
      position relative
      left 0
      transform none
      pointer-events none
      margin 0

      &:hover
        .node-dot
          transform none

    .timeline-event-icon
      position absolute
      left 20px
      transform translateX(-50%)
      top auto
      pointer-events none

      &:hover
        background white
        box-shadow 0 2px 8px rgba(0, 0, 0, 0.15)

      &.scale-up
        transform translateX(-50%)
        background white
        box-shadow 0 2px 8px rgba(0, 0, 0, 0.15)

    .timeline-labels
      grid-column 2
      flex-direction column
      gap 0
      margin-top 0
      margin-bottom 0

    .timeline-row
      display flex
      text-align left
      flex-direction column
      gap 32px
      margin 0

    .timeline-card
      padding 0
      background transparent
      box-shadow none
      gap 2px
      min-height 40px
      height 40px
      display flex
      flex-direction column
      align-items flex-start
      justify-content center
      width 100%
      pointer-events none
      margin 0

      &:hover
        background transparent
        box-shadow none

        .card-title,
        .card-time
          color inherit

      &.completed
        .card-title
          color primary-color

        .card-time
          color neutral-gray

      &.active
        background transparent
        box-shadow none

        .card-title
          color accent-color

        .card-time
          color neutral-gray

      &.pending
        .card-title
          color neutral-light

        .card-time
          color neutral-light

      &.event
        .card-title
          color secondary-color

        .card-time
          color neutral-gray

      .card-number
        display none

      .card-icon-wrapper
        display none

